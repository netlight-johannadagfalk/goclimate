<%= render "shared/header" %>

<section class="section-padding">
  <div class="section-gutter t:flex t:items-center t:justify-between">
    <div class="t:w-3/5 d-lg:w-1/2 space-y-6">
      <h1 class="heading-xl"><%= t 'views.know_your_footprint.show.heading' %></h1>
      <p><%= t 'views.know_your_footprint.show.description' %></p>
      <div class="callout max-w-xl mx-auto t:mx-0">
        <p class="text-center font-bold"><%= t 'views.know_your_footprint.show.cta' %></p>
        <div>
          <%= form_with url: new_lifestyle_footprint_path, method: :get, class: 'm-lg:flex m-lg:justify-center mt-3', id: 'first-registration-form' do |f| %>
            <%= f.hidden_field 'campaign', value: 'know-your-carbon-footprint' %>
            <div class="select-wrapper w-full m-lg:w-auto">
              <label for="country" class="sr-only">Select your country</label>
              <%= f.country_select :country,
                    {
                      include_blank: t('views.welcome.index.i_live_in'),
                      priority_countries: [
                        ISO3166::Country.new(request.headers['CF-IPCountry'])&.alpha2 || current_region.country_codes
                      ].flatten.compact
                    },
                    {
                      class: 'select',
                      required: ''
                    } %>
            </div>
            <%= f.submit t('views.welcome.index.get_started'), name: nil, class: 'button button-cta mt-2 m-lg:mt-0 m-lg:ml-2 w-full m-lg:w-auto' %>
          <% end %>
        </div>
      </div>
    </div>
    <div class="t:w-2/5 d-lg:w-1/2">
      <div class="relative mx-auto w-3/4 m-lg:w-1/2 t:w-full max-w-lg">
        <%= image_tag webpack_asset_path('images/shapes/blob_1.svg'), class: 'w-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2', alt: '' %>
        <%= image_tag webpack_asset_path('images/illustrations/co2.png'), class: 'w-full relative', alt: '' %>
      </div>
    </div>
  </div>
</section>

<section class="section-padding">
  <div class="section-gutter t:flex t:flex-row-reverse t:items-center t:justify-between">
    <div class="t:w-3/5 d-lg:w-1/2 space-y-6">
      <h2 class="heading-lg"><%= t 'views.know_your_footprint.show.what_is_a_carbon_footprint.heading' %></h2>
      <div class="space-y-3">
        <%= t 'views.know_your_footprint.show.what_is_a_carbon_footprint.text' %>
      </div>
    </div>
    <div class="t:w-2/5 d-lg:w-1/2">
      <div class="relative mx-auto w-3/4 m-lg:w-1/2 t:w-full max-w-lg">
        <%= image_tag webpack_asset_path('images/shapes/blob_2.svg'), class: 'w-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2', alt: '' %>
        <%= image_tag webpack_asset_path('images/illustrations/carbon_footprint_content.png'), class: 'w-full relative', alt: '' %>
      </div>
    </div>
  </div>
</section>

<section class="section-padding">
  <div class="section-gutter t:flex t:items-center t:justify-between">
    <div class="t:w-3/5 d-lg:w-1/2 space-y-6">
      <h2 class="heading-lg"><%= t 'views.know_your_footprint.show.system_change.heading' %></h2>
      <p><%= t 'views.know_your_footprint.show.system_change.text' %></p>
    </div>
    <div class="t:w-2/5 d-lg:w-1/2">
      <div class="relative mx-auto w-3/4 m-lg:w-1/2 t:w-full max-w-lg">
        <%= image_tag webpack_asset_path('images/shapes/blob_3.svg'), class: 'w-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2', alt: '' %>
        <%= image_tag webpack_asset_path('images/illustrations/changes.png'), class: 'w-full relative', alt: '' %>
      </div>
    </div>
  </div>
</section>

<section class="section-padding">
  <div class="section-gutter t:flex t:flex-row-reverse t:items-center t:justify-between">
    <div class="t:w-3/5 d-lg:w-1/2 space-y-6">
      <h2 class="heading-lg"><%= t 'views.know_your_footprint.show.global_north_south.heading' %></h2>
      <p><%= t 'views.know_your_footprint.show.global_north_south.text' %></p>
      <p><%= t 'views.know_your_footprint.show.global_north_south.text_2' %></p>
    </div>
    <div class="t:w-2/5 d-lg:w-1/2">
      <div class="relative mx-auto w-3/4 m-lg:w-1/2 t:w-full max-w-lg">
        <%= image_tag webpack_asset_path('images/shapes/blob_4.svg'), class: 'w-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2', alt: '' %>
        <%= image_tag webpack_asset_path('images/illustrations/climate_justice.png'), class: 'w-full relative', alt: '' %>
      </div>
    </div>
  </div>
</section>


<section class="section-padding">
  <h2 class="heading-lg"><%=t 'views.projects.latest_projects' %></h2>

  <div class="mt-12 flex flex-col d:flex-row section-gutter">
    <% @projects.take(3).each do |project| %>
      <div class="d:w-1/3 pt-20 m-lg:pt-24">
        <div class="callout h-full space-y-3 pt-0">
          <div class="inline-block w-full">
            <img class="mx-auto h-40 w-40 -mt-20 m-lg:h-48 m-lg:w-48 m-lg:-mt-24 rounded-full object-cover" src="<%= project.image_url %>">
          </div>
          <h3 class="heading"><%= project.name %></h3>
          <%= simple_format(project.short_description) %>
        </div>
      </div>
    <% end %>
  </div>
</section>

<section class="section-padding">
  <div class="section-gutter t:flex t:items-center t:justify-between">
    <div class="t:w-3/5 d-lg:w-1/2 space-y-6">
      <h2 class="heading-lg"><%= t 'views.know_your_footprint.show.sign_up.heading' %></h2>
      <p><%= t 'views.know_your_footprint.show.sign_up.text' %></p>
      <div class="callout max-w-xl mx-auto t:mx-0">
        <p class="text-center font-bold"><%= t 'views.know_your_footprint.show.cta' %></p>
        <div>
          <%= form_with url: new_lifestyle_footprint_path, method: :get, class: 'm-lg:flex m-lg:justify-center mt-3' do |f| %>
            <%= f.hidden_field 'campaign', value: 'know-your-carbon-footprint' %>
            <div class="select-wrapper w-full m-lg:w-auto">
              <label for="country" class="sr-only">Select your country</label>
              <%= f.country_select :country,
                    {
                      include_blank: t('views.welcome.index.i_live_in'),
                      priority_countries: [
                        ISO3166::Country.new(request.headers['CF-IPCountry'])&.alpha2 || current_region.country_codes
                      ].flatten.compact
                    },
                    {
                      class: 'select',
                      required: ''
                    } %>
            </div>
            <%= f.submit t('views.welcome.index.get_started'), name: nil, class: 'button button-cta mt-2 m-lg:mt-0 m-lg:ml-2 w-full m-lg:w-auto' %>
          <% end %>
        </div>
      </div>
    </div>
    <div class="t:w-2/5 d-lg:w-1/2">
      <div class="relative mx-auto w-3/4 m-lg:w-1/2 t:w-full max-w-lg">
        <%= image_tag webpack_asset_path('images/shapes/blob_2.svg'), class: 'w-full absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2', alt: '' %>
        <%= image_tag webpack_asset_path('images/illustrations/participate.png'), class: 'w-full relative', alt: '' %>
      </div>
    </div>
  </div>
</section>

<%= render 'shared/more_info', pages: [:about, :transparency] %>

<%= render "shared/bottom_landscape" %>
<%= render 'shared/footer', skip_prefooter: true %>
